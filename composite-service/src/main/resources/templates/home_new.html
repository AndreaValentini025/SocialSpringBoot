<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Post Details</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<div class="post">
  <!-- Post Image -->
  <img th:src="@{${post.imageUrl}}" alt="Post Image" class="post-image" />

  <!-- Post Actions -->
  <div class="post-actions">
    <!-- Like Button -->
    <form th:action="@{/posts/{id}/like(id=${post.id})}" method="post">
      <button type="submit" class="like-button">
        <i th:class="${isLiked} ? 'fas fa-heart liked' : 'far fa-heart'"></i>
      </button>
    </form>
    <!-- Likes Count -->
    <span class="likes-count" th:text="${post.likesCount} + ' likes'"></span>
  </div>

  <!-- Post Description -->
  <p class="post-description">
    <strong th:text="${post.user.username}"></strong>
    <span th:text="${post.description}"></span>
  </p>

  <!-- Comments Section -->
  <div class="comments-section">
    <!-- Existing Comments -->
    <div th:each="comment : ${post.comments}" class="comment">
      <img th:src="@{${comment.user.avatarUrl}}" alt="User Avatar" class="comment-avatar" />
      <p>
        <strong th:text="${comment.user.username}"></strong>
        <span th:text="${comment.text}"></span>
      </p>
    </div>

    <!-- Add Comment Field -->
    <form th:action="@{/posts/{id}/comments(id=${post.id})}" method="post" class="add-comment">
      <input type="text" name="commentText" placeholder="Add a comment..." />
      <button type="submit">Post</button>
    </form>
  </div>
</div>
</body>
</html>
